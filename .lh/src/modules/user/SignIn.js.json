{
    "sourceFile": "src/modules/user/SignIn.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1700310460580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1700310460580,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { login } from '@/store/user/actions';\nimport userRoutes from '@/routes/user';\n// UI\nimport Input from '@/components/input/Input';\nimport Button from '@/components/button/Button';\nimport Icon from '@/components/icon/Icon';\nimport { Grid, GridCell } from '@/components/grid';\nimport { white } from '@/components/values/colors';\nimport H3 from '@/components/typography/H3';\n\nconst SignIn = (props) => {\n\tconst [state, setState] = useState({\n\t\tuser: {\n\t\t\tusername: '18339989537',\n\t\t\tpassword: '123456',\n\t\t},\n\t});\n\n\tconst handleChange = (e) => {\n\t\tconst { user } = state;\n\t\tuser[e.target.name] = e.target.value;\n\t\tsetState({ user });\n\t};\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\tprops.login(state.user); // action 中的 login 函数\n\t};\n\n\treturn (\n\t\t<Grid gutter alignCenter style={{ padding: '2em' }}>\n\t\t\t<GridCell gutter style={{ textAlign: 'center' }}>\n\t\t\t\t<H3 font=\"secondary\" style={{ marginBottom: '1em' }}>\n\t\t\t\t\tLogin to your account\n\t\t\t\t</H3>\n\n\t\t\t\t{/* Login Form */}\n\t\t\t\t<form onSubmit={(e) => onSubmit(e)}>\n\t\t\t\t\t<div style={{ width: '25em', margin: '0 auto' }}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tplaceholder=\"Username/Email\"\n\t\t\t\t\t\t\trequired=\"required\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tautocomplete=\"username\"\n\t\t\t\t\t\t\tstyle={{ marginTop: '1em' }}\n\t\t\t\t\t\t\tvalue={state.user.username}\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\trequired=\"required\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tautocomplete=\"current-password\"\n\t\t\t\t\t\t\tstyle={{ marginTop: '1em' }}\n\t\t\t\t\t\t\tvalue={state.user.password}\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ marginTop: '2em' }}>\n\t\t\t\t\t\t{/* Register link */}\n\t\t\t\t\t\t<Link to={userRoutes.register.path}>\n\t\t\t\t\t\t\t<Button type=\"button\" style={{ marginRight: '0.5em' }}>\n\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Link>\n\n\t\t\t\t\t\t{/* Form submit 触发 submit 事件 */}\n\t\t\t\t\t\t<Button type=\"submit\" theme=\"secondary\" disabled={props.user.isLoading}>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t<Icon size={1.2} style={{ color: white }}>\n\t\t\t\t\t\t\t\tnavigate_next\n\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</GridCell>\n\t\t</Grid>\n\t);\n\n};\n\nSignIn.propTypes = {\n\tuser: PropTypes.object.isRequired,\n\tlogin: PropTypes.func.isRequired,\n};\n\n// redux 统一管理state 并映射到 props 不需要 defaultProps\n// Login.defaultProps = {\n//     user: {},\n//     login: loginState,\n//     messageShow: messageShow,\n//     messageHide: messageHide\n// };\n\n// export default Login;\n\n// map state to props 将state中的某个数据映射到props中\n// function loginState(state) {\n//     return {\n//         user: state.user\n//     };\n// }\nconst loginState = (state) => ({\n\tuser: state.user,\n});\n// map state to props 将state中的某个数据映射到props中\n// mapDispatchToProps 把各种dispatch也变成了props让你可以直接使用\n// connect(mapStateToProps, mapDispatchToProps)(MyComponent)\n\nexport default connect(loginState, { login })(withRouter(SignIn));\n"
        }
    ]
}